# 1235.Maximum-Profit-in-Job-Scheduling

回想 #435 在一區間段中最多可以有幾個不重疊的區間，可以對尾端點做排序，按照貪心的思路在所有重疊的區間中選尾端點結束較早的區間，可以讓後面選取別的區間的範圍盡可能更大。

```
--------- (V)
  --------- (X)
       ------ (X)
```

這題所有重疊的區間中不一定會取尾端點結束較早的區間，尾端點結束稍晚卻有高利潤的區間可能會被選中。因此不能用貪心的思路，而是在尾端點排序的基礎上思考最後一個區間取或不取哪個利潤更高。

- 思考對於第i個元素可以做哪些選擇？

```
X X X X X i
```

結束時間為i，當前區間可以取或不取。

- 思考需要哪些狀態？

結束時間i。

- 定義dp數組含義。

```
dp[i]: the maximum profit you can take ending at time i such that there are no two jobs in the subset with overlapping time range.
```

- 推出狀態轉移方程。

```
dp[i]=max(dp[i-1], dp[j]+profit[i]);
```

- 設定邊界條件及dp初始值。

dp數組要加上一個虛擬頭處理沒有結束時間在區間起始時間之前的情況。

```
dp.push_back({-1, 0});
```

- 得出結論。

在遍歷所有區間過程中，對取或不取各區間能獲取的所有最大利潤取最大值。
