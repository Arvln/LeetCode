# 295.FindMedian-from-Data-Stream

問數據流中的中位數，需要一個可以自動排序的數據結構，不外乎就是紅黑樹或堆，C++堆不支持迭代器訪問元素，當要更新指向中位數的指針會比較難處理，這邊採用紅黑樹。因為數據流中數字可能重複，因此選擇multiset是合適的，接下來分情況討論。

- 插入數字i後當數據量是奇數時，代表插入前數據量是偶數，中位數指向中間偏左的元素。

```
before: X X X X <- i
          ^


after:  X X X X X
            ^
```

當中位數小於等於i時，i將插在中位數後面，需要將中位數向後一位更新。

- 插入數字i後當數據量是偶數時，代表插入前數據量是奇數，中位數指向正中間的元素。

```
before: X X X <- i
          ^


after: X X X X
         ^
```

當中位數大於i時，i將插在中位數前面，需要將中位數向前一位更新。

注意當第一次插入數字時需初始化指向中位數指針，藉著每一步操作正確維護指向中位數指針，只要按題目定義計算中位數就行。
